webpackJsonp([1],{"/WUv":function(t,e){},"0GDQ":function(t,e){},"1Sxu":function(t,e){},"4eXt":function(t,e){},"7Otq":function(t,e,s){t.exports=s.p+"static/img/logo.e7102ce.png"},"7X/C":function(t,e){},"9M+g":function(t,e){},B621:function(t,e){},EUZK:function(t,e){},Fymg:function(t,e){},GKM6:function(t,e){},J8oL:function(t,e){},"JTe/":function(t,e){},Jmt5:function(t,e){},KhGk:function(t,e){},Mx7Z:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i=s("mtWM"),n=s.n(i),r=(s("Jmt5"),{name:"navbar",data:function(){return{}},computed:{getName:function(){if(localStorage.getItem("professorName"))return localStorage.getItem("professorName")},getAdmin:function(){if(localStorage.getItem("isAdmin"))return localStorage.getItem("isAdmin")}},methods:{logout:function(){localStorage.clear()}}}),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 top"},[a("header",{staticClass:"col-3 header"},[a("a",{attrs:{href:"/subjects"}},[t.getAdmin?t._e():a("img",{staticClass:"logo",attrs:{src:s("7Otq")}})]),t._v(" "),a("a",{attrs:{href:"/admin"}},[t.getAdmin?a("img",{staticClass:"logo",attrs:{src:s("7Otq")}}):t._e()])]),t._v(" "),t.getName&&!t.getAdmin?a("nav",{staticClass:"col-6 navbar"},[a("ul",[a("li",[a("router-link",{attrs:{to:"/subjects"}},[t._v("Subjects")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/groups"}},[t._v("Groups")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/activity/add"}},[t._v("Add activity")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/attandancelist/add"}},[t._v("Add attandance list")])],1)])]):t._e(),t._v(" "),t.getAdmin?a("nav",{staticClass:"col-6 navbar"},[a("ul",[a("li",[a("router-link",{attrs:{to:"/students"}},[t._v("Students")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/professors"}},[t._v("Professors")])],1)])]):t._e(),t._v(" "),t.getName?a("aside",{staticClass:"col-3 user"},[a("span",{staticClass:"name"},[t._v("Hi, "+t._s(t.getName))]),t._v(" "),a("span",{staticClass:"logout"},[a("a",{attrs:{href:""},on:{click:function(e){return t.logout()}}},[t._v("Logout")])])]):t._e()])])])},staticRenderFns:[]};var u=s("VU/8")(r,o,!1,function(t){s("0GDQ")},"data-v-4fccf0a0",null).exports,c={name:"courses",data:function(){return{courses:[],subject_id:this.$route.params.id,activity_id:0}},methods:{getCourses:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/subjects/"+this.subject_id).then(function(t){this.courses=t.data.data}.bind(this)).catch(function(e){t.$router.push("/login")}),localStorage.setItem("subject_id",this.subject_id)},deleteCourse:function(t){var e=this;n.a.delete(this.$store.getters.getUrl+"api/courses/"+t).then(function(t){alert(t.data.deleted),this.getCourses()}.bind(this)).catch(function(t){e.$router.push("/login")})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getCourses()}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("section",{staticClass:"col-12"},[s("h1",[t._v("Courses")]),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t._l(t.courses,function(e,a){return s("tr",[s("td",[t._v(t._s(e.id))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[s("router-link",{staticClass:"link",attrs:{to:"/group/"+e.group[0].group_id}},[t._v(t._s(e.group[0].name))])],1),t._v(" "),s("td",[t._v(t._s(e.professor[0].name))]),t._v(" "),s("td",[s("router-link",{attrs:{to:{name:"course",params:{course:t.courses[a]}}}},[t._v("more..")])],1),t._v(" "),s("td",[s("button",{staticClass:"delete",on:{click:function(s){return t.deleteCourse(e.id)}}},[t._v("❌")])])])})],2)]),t._v(" "),s("div",{staticClass:"col-12 navigation_buttons"},[s("ul",[s("li",[s("router-link",{staticClass:"nav-button",attrs:{to:"/courses/add/"+t.subject_id}},[t._v("Add Course")])],1)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"header_table"},[s("th",[t._v("Id")]),t._v(" "),s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Group")]),t._v(" "),s("th",[t._v("Professor")]),t._v(" "),s("th",[t._v("Activities")]),t._v(" "),s("th",[t._v("Delete")])])}]};var l=s("VU/8")(c,d,!1,function(t){s("7X/C")},"data-v-6ebf1bdc",null).exports,h={name:"App",components:{navbar:u}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("navbar"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var p=s("VU/8")(h,v,!1,function(t){s("YpFv")},null,null).exports,m=s("/ocq"),_={data:function(){return{errors:[],credential:{email:"",password:""}}},methods:{login:function(){var t=this;this.errors=[],this.credential.email?this.credential.password?n.a.post(this.$store.getters.getUrl+"api/login",this.credential).then(function(e){console.log(e.data),localStorage.setItem("token",e.data.token),localStorage.setItem("professor_id",e.data.professorId),localStorage.setItem("professorName",e.data.professorName),localStorage.setItem("isAdmin",e.data.isAdmin),""!=e.data.isAdmin?t.$router.push("/admin"):t.$router.push("/subjects")}).catch(function(t){this.errors.push("There is no useres with this")}.bind(this)):this.errors.push("Password is required"):this.errors.push("Email is required")}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Login")]),t._v(" "),s("div",{staticClass:"form-login align-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.credential.email,expression:"credential.email"}],attrs:{type:"email",placeholder:"Email",id:"email"},domProps:{value:t.credential.email},on:{input:function(e){e.target.composing||t.$set(t.credential,"email",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.credential.password,expression:"credential.password"}],attrs:{type:"password",placeholder:"Password",id:"password"},domProps:{value:t.credential.password},on:{input:function(e){e.target.composing||t.$set(t.credential,"password",e.target.value)}}}),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:t.login}},[t._v("Login")])],2)])])])},staticRenderFns:[]};var f=s("VU/8")(_,g,!1,function(t){s("GKM6")},"data-v-03ade21d",null).exports,y=s("mvHQ"),b=s.n(y),C=s("Gu7T"),D=s.n(C),w={isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDateObj:function(t){var e=t?new Date(t):new Date;return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),week:e.getDay()}},getTimestamp:function(t){return t?+new Date(this.formatDate(t,"YYYY-MM-DD")):+new Date},formatDate:function(t,e){var s=this.getDateObj(t),a=s.year,i=s.month,n=s.day;return e.replace(/\[.*?\]|Y{2,4}|M{1,2}|D{1,2}|SSS/g,function(t){return{YY:String(a).slice(-2),YYYY:a,M:i,MM:i>9?i:"0"+i,D:n,DD:n>9?n:"0"+n}[t]})},getTotalDays:function(t,e){return 2==e?this.isLeapYear(t)?29:28:String(e).match(/\[.*?\]|4|6|9|11|SSS/g)?30:31}},S={props:{markers:Array,weekText:Array,disabledFutureDay:{type:Boolean,default:!1},hideOtherMonthDay:{type:Boolean,default:!1},hideOtherMonthMarker:{type:Boolean,default:!0},format:{type:String,default:"YYYY-MM-DD"},sundayBegin:{type:Boolean,default:!0}},computed:{weekTxt:function(){var t=["S","M","T","W","T","F","S"];return this.weekText?this.weekText:this.sundayBegin?t:t.push(t.shift())&&t}},data:function(){return{days:[],currentDateObj:{date:"",year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:(new Date).getDate(),yearMonth:""}}},watch:{"currentDateObj.year":function(){this.initCalendar()},"currentDateObj.month":function(){this.initCalendar()},"currentDateObj.date":function(t){var e=this.format.match(/[^A-Z]/)[0],s=t.split(e);this.currentDateObj.yearMonth=""+s[0]+e+s[1],this.$emit("date",this.matchDayByDate(t))}},created:function(){this.initCalendar()},methods:{dayClasses:function(t){return{"choose-day":this.currentDateObj.date===t.date,"disabled-day":this.disabledFutureDay&&t.isFutureDay,"other-month-day":t.isOtherMonthDay,"weekend-day":[0,6,7].includes(t.week)}},initCalendar:function(){var t=this.currentDateObj,e=t.year,s=t.month,a=t.day,i=1===s?12:s-1,n=12===s?1:s+1,r=this.handleDays(e,s),o=this.handleDays(e,i,!0),u=this.handleDays(e,n,!0),c=r[0].week,d=r[r.length-1].week;this.sundayBegin?d+=1:c-=1;var l=u.splice(0,7-d),h=o.splice(o.length-c,o.length-1);h.concat(l).map(function(t){return t.isOtherMonthDay=!0}),this.days=[].concat(D()(h),D()(r),D()(l)),this.currentDateObj.date=this.formatDate(e+"-"+s+"-"+a)},handleMonthSwitch:function(t){var e=this.currentDateObj,s=e.year,a=e.month;"prev"===t&&(a>1?a--:(s--,a=12)),"next"===t&&(a<12?a++:(s++,a=1));var i=w.getTotalDays(s,a),n=w.getDateObj().day>i,r=this.currentDateObj.day>i;(n||r)&&(this.currentDateObj.day=i);var o=this.formatDate(s+"-"+a+"-"+this.currentDateObj.day);this.currentDateObj.year=s,this.currentDateObj.month=a,this.currentDateObj.date=o},handleDayChoose:function(t){if(!this.disabledFutureDay||!t.isFutureDay){if(t.isOtherMonthDay)return t.day>7?this.handleMonthSwitch("prev"):this.handleMonthSwitch("next");var e=this.currentDateObj,s=e.year,a=e.month;this.currentDateObj.day=t.day,this.$store.commit("setSelectedDate",{selectedDate:t.date}),this.currentDateObj.date=this.formatDate(s+"-"+a+"-"+t.day)}},handleDays:function(t,e){var s=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[],n=w.getTotalDays(t,e);a&&(1===e&&(t+=1),12===e&&(t-=1));for(var r=function(n){var r=n+1,o=t+"-"+e+"-"+r,u=w.getDateObj(o).week;s.sundayBegin||0!==u||(u=7);var c={day:r,date:s.formatDate(o),week:u,isFutureDay:w.getTimestamp()<w.getTimestamp(o)},d=s.markers;!d||a&&s.hideOtherMonthMarker||d.map(function(t){var e=w.getTimestamp(t.date);w.getTimestamp(c.date)===e&&(c.className=t.className,c.title=t.title,c.hour=t.hour)}),i.push(c)},o=0;o<n;o++)r(o);return i},matchDayByDate:function(t){return this.days.filter(function(e){return e.date===t})[0]},formatDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.format;if(!t)throw"Missing required parameters";return w.formatDate(t,e.toUpperCase())},chooseTargetDate:function(t){if(!t)throw"Missing required parameters";var e=w.getDateObj(t),s=e.year,a=e.month,i=e.day;this.currentDateObj.year=s,this.currentDateObj.month=a,this.currentDateObj.day=i,this.currentDateObj.date=this.formatDate(s+"-"+a+"-"+i)}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"calendar"}},[s("div",{staticClass:"calendar-header"},[s("div",{staticClass:"month-switch"},[s("span",{staticClass:"prev",on:{click:function(e){return t.handleMonthSwitch("prev")}}}),t._v(" "),s("span",[t._v(t._s(t.currentDateObj.yearMonth))]),t._v(" "),s("span",{staticClass:"next",on:{click:function(e){return t.handleMonthSwitch("next")}}})])]),t._v(" "),s("div",{staticClass:"calendar-content"},[s("ul",{staticClass:"week"},t._l(t.weekTxt,function(e,a){return s("li",{key:a},[t._v(t._s(e))])}),0),t._v(" "),s("ul",{staticClass:"month"},t._l(t.days,function(e,a){return s("li",{key:a,class:[t.dayClasses(e),e.className]},[e.isOtherMonthDay&&t.hideOtherMonthDay?t._e():s("span",{on:{click:function(s){return t.handleDayChoose(e,a)}}},[t._v(t._s(e.day)),s("span",{staticClass:"title"},[t._v(t._s(e.title))]),s("span",{staticClass:"hour"},[t._v(t._s(e.hour))])])])}),0)])])},staticRenderFns:[]};var $=s("VU/8")(S,k,!1,function(t){s("dkPV")},"data-v-7eb01546",null).exports,x=new Date,j=(x.getFullYear(),x.getMonth(),{name:"CalendarShow",components:{Calendar:$},data:function(){return{activities:[],props:{disabledFutureDay:!1,hideOtherMonthDay:!1,hideOtherMonthMarker:!0,sundayBegin:!1,format:{selected:"YYYY/MM/DD",options:["YYYY/MM/DD","YYYY-M-D","YY/MM/DD","YY/M/D"]},weekText:{lang:"EN",selected:"",options:[{lang:"EN",value:["M","T","W","T","F","S","S"]},{lang:"ZH",value:["一","二","三","四","五","六","日"]}]},markers:[]}}},mounted:function(){},computed:{setMArkers:function(){for(var t=this.$store.getters.getActivities,e=0;e<t.length;e++)null!=t[e].recurrence_id?this.props.markers.push({date:t[e].activityDate,className:"activityRecurrent",title:t[e].title,hour:t[e].hour}):this.props.markers.push({date:t[e].activityDate,className:"activitySimple",title:t[e].title,hour:t[e].hour});if(this.props.markers.length>0)return console.log(this.props.markers),!0}},methods:{handleDateChange:function(t){console.log(b()(t))}},created:function(){localStorage.getItem("token")||this.$router.push("login")}}),I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"calendar-wrap"}},[t.setMArkers?s("Calendar",{ref:"calendar",attrs:{sundayBegin:t.props.sundayBegin,format:t.props.format.options[0],markers:t.props.markers,disabledFutureDay:t.props.disabledFutureDay,hideOtherMonthDay:t.props.hideOtherMonthDay,hideOtherMonthMarker:t.props.hideOtherMonthMarker},on:{date:function(e){return t.handleDateChange(e)}}}):t._e()],1)},staticRenderFns:[]};var M=s("VU/8")(j,I,!1,function(t){s("4eXt")},null,null).exports,A={name:"course",components:{CalendarShow:M},data:function(){return{activities:[],activitiesSelected:[],courseName:""}},props:["course"],computed:{takeActivitiesSelected:function(){if(0!=this.activitiesSelected.length&&(this.activitiesSelected=[]),0!=this.activities.length){var t=this.$store.getters.getSelectedDate.replace("/","-");t=t.replace("/","-");for(var e=0;e<this.activities.length;e++)this.activities[e].activityDate===t&&this.activitiesSelected.push(this.activities[e]),console.log(t+"------"+this.activities[e].activityDate)}}},mounted:function(){if(this.course)this.courseName=this.course.name,this.activities=this.course.activities,this.$store.commit("setActivities",{activities:this.course.activities});else{var t=localStorage.getItem("subject_id");this.$router.push("/courses/"+t)}},methods:{},created:function(){localStorage.getItem("token")||this.$router.push("/login")}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("h1",[t._v(t._s(t.courseName))]),t._v(" "),s("div",{staticClass:"col-6"},[0!=t.activities.length?s("CalendarShow"):t._e()],1),t._v(" "),s("section",{staticClass:"col-6"},[s("h2",[t._v("Activities")]),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t._l(t.activitiesSelected,function(e){return s("tr",[s("td",[t._v(t._s(e.activity_id))]),t._v(" "),s("td",[t._v(t._s(e.title))]),t._v(" "),s("td",[t._v(t._s(e.activityDate))]),t._v(" "),s("td",[t._v(t._s(e.hour))]),t._v(" "),s("td",[t._v(t._s(e.duration))]),t._v(" "),s("td",[s("router-link",{attrs:{to:"/activities/"+e.activity_id}},[t._v("more..")])],1)])})],2),t._v("\n         "+t._s(t.takeActivitiesSelected)+"\n       ")])]),t._v(" "),s("div",{staticClass:"col-12 navigation_buttons"},[s("ul",[s("li",[s("router-link",{staticClass:"nav-button",attrs:{to:"/course/edit/"+t.course.id}},[t._v("Edit Course")])],1),t._v(" "),s("li",[s("router-link",{staticClass:"nav-button",attrs:{to:"/attandancelist/"+t.course.id}},[t._v("Show Attandance list")])],1)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"header_table"},[s("th",[t._v("Id")]),t._v(" "),s("th",[t._v("Title")]),t._v(" "),s("th",[t._v("Date")]),t._v(" "),s("th",[t._v("Hour")]),t._v(" "),s("th",[t._v("Duration")]),t._v(" "),s("th",[t._v("Check activity")])])}]};var U=s("VU/8")(A,E,!1,function(t){s("fjVS")},"data-v-f2f021ae",null).exports,N={name:"addStudentAttandance",data:function(){return{errors:[],success:"",students:"",student:{student_id:null,activity_id:null,data_presence:null}}},props:["activity_id","group_id"],methods:{addGroup:function(){var t=this;this.errors=[],this.student.activity_id=this.activity_id;var e=new Date;console.log(this.student.student_id),e=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),this.student.data_presence=e,n.a.post(this.$store.getters.getUrl+"api/attandancelist",this.student).then(function(e){t.success=e.data.created}).catch(function(t){this.errors.push("Something went wrong")}.bind(this))},getStudents:function(){console.log(this.group_id),n.a.get(this.$store.getters.getUrl+"api/groups/"+this.group_id).then(function(t){this.students=t.data.data[0].students,this.student.student_id=this.students[0].student_id,console.log(this.students)}.bind(this)).catch(function(t){})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getStudents()}},P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Add new group: ")]),t._v(" "),s("div",{staticClass:"form-login align-center"},[s("span",{staticClass:"success"},[t._v(t._s(t.success))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.student.student_id,expression:"student.student_id"}],attrs:{id:"student_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.student,"student_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v("Chose Group")]),t._v(" "),t._l(t.students,function(e){return s("option",{domProps:{value:e.student_id}},[t._v("\n                "+t._s(e.name)+"\n              ")])})],2),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:t.addGroup}},[t._v("Add group")])],2)])])])},staticRenderFns:[]};var F=s("VU/8")(N,P,!1,function(t){s("/WUv")},"data-v-32bda245",null).exports,O={name:"editCourse",data:function(){return{course_id:this.$route.params.id,errors:[],success:"",groups:[],subjects:[],course:{name:"",group_id:0,professor_id:0,subject_id:parseInt(this.$route.params.id),_method:"PUT"}}},methods:{saveCourse:function(){var t=this;console.log(this.course),n.a.post(this.$store.getters.getUrl+"api/courses/"+this.course_id,this.course).then(function(e){alert(e.data.updated),getCourse(t.course_id)}).catch(function(e){t.$router.push("login")})},getCourse:function(t){n.a.get(this.$store.getters.getUrl+"api/courses/"+t+"/edit").then(function(t){this.course.name=t.data.name,this.course.group_id=t.data.group_id,this.course.professor_id=t.data.professor_id}.bind(this)).catch(function(t){})},getGroups:function(){n.a.get(this.$store.getters.getUrl+"api/groups").then(function(t){this.groups=t.data.data,console.log(this.groups)}.bind(this)).catch(function(t){})},getSubjects:function(){n.a.get(this.$store.getters.getUrl+"api/subjects").then(function(t){this.subjects=t.data.data,console.log(this.subjects)}.bind(this)).catch(function(t){})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getCourse(18),this.getGroups(),this.getSubjects()}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Edit course: ")]),t._v(" "),s("div",{staticClass:"form-login align-center"},[s("span",{staticClass:"success"},[t._v(t._s(t.success))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.course.name,expression:"course.name"}],attrs:{type:"text",placeholder:"Course name",id:"name"},domProps:{value:t.course.name},on:{input:function(e){e.target.composing||t.$set(t.course,"name",e.target.value)}}}),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.course.group_id,expression:"course.group_id"}],attrs:{id:"groupId"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.course,"group_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v("Chose Group")]),t._v(" "),t._l(t.groups,function(e){return s("option",{domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")])})],2),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.course.subject_id,expression:"course.subject_id"}],attrs:{id:"groupId"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.course,"subject_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v("Chose Subject")]),t._v(" "),t._l(t.subjects,function(e){return s("option",{domProps:{value:e.subject_id}},[t._v("\n                "+t._s(e.name)+"\n              ")])})],2),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:function(e){return t.saveCourse()}}},[t._v("Edit course")])],2)])])])},staticRenderFns:[]};var G=s("VU/8")(O,T,!1,function(t){s("psum")},"data-v-5ee8cbfa",null).exports,Y={name:"subjects",data:function(){return{subjects:[]}},methods:{getSubjects:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/subjects").then(function(t){this.subjects=t.data.data}.bind(this)).catch(function(e){t.$router.push("/login")})},deleteSubject:function(t){var e=this;n.a.delete(this.$store.getters.getUrl+"api/subjects/"+t).then(function(t){alert(t.data.deleted),this.getSubjects()}.bind(this)).catch(function(t){e.$router.push("/login")})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getSubjects()}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.subjects?s("div",{staticClass:"row"},[s("section",{staticClass:"col-12"},[s("h1",[t._v("Subjects")]),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t._l(t.subjects,function(e){return s("tr",[s("td",[t._v(t._s(e.subject_id))]),t._v(" "),s("td",[s("router-link",{staticClass:"link",attrs:{to:"/courses/"+e.subject_id}},[t._v(t._s(e.name))])],1),t._v(" "),s("td",[s("router-link",{staticClass:"nav-button",attrs:{to:"/subject/edit/"+e.subject_id}},[t._v("Edit subject")])],1),t._v(" "),s("td",[s("button",{staticClass:"delete",on:{click:function(s){return t.deleteSubject(e.subject_id)}}},[t._v("❌")])])])})],2)]),t._v(" "),s("div",{staticClass:"col-12 navigation_buttons"},[s("ul",[s("li",[s("router-link",{staticClass:"nav-button",attrs:{to:"/subjects/add"}},[t._v("Add Subject")])],1)])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticClass:"header_table"},[e("th",[this._v("Id")]),this._v(" "),e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Edit")]),this._v(" "),e("th",[this._v("Delete")])])}]};var L=s("VU/8")(Y,R,!1,function(t){s("SnFF")},"data-v-6d6dea66",null).exports,V={name:"addStudent",data:function(){return{groups:[]}},methods:{getGroups:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/groups").then(function(t){this.groups=t.data.data,console.log(t.data)}.bind(this)).catch(function(e){t.$router.push("login")})},deleteGroup:function(t){var e=this;n.a.delete(this.$store.getters.getUrl+"api/groups/"+t).then(function(t){alert(t.data.deleted),this.getGroups()}.bind(this)).catch(function(t){e.$router.push("login")})}},created:function(){localStorage.getItem("token")||this.$router.push("login"),this.getGroups()}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("section",{staticClass:"col-12"},[s("h1",[t._v("All groups")]),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t._l(t.groups,function(e){return s("tr",[s("td",[t._v(t._s(e.id))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[s("router-link",{attrs:{to:"/group/"+e.id}},[t._v("more..")])],1),t._v(" "),s("td",[s("router-link",{staticClass:"nav-button",attrs:{to:"/group/edit/"+e.id}},[t._v("Edit group")])],1),t._v(" "),s("td",[s("button",{staticClass:"delete",on:{click:function(s){return t.deleteGroup(e.id)}}},[t._v("❌")])])])})],2)]),t._v(" "),s("div",{staticClass:"col-12 navigation_buttons"},[s("ul",[s("li",[s("router-link",{staticClass:"nav-button",attrs:{to:"/students/add"}},[t._v("Add Student")])],1),t._v(" "),s("li",[s("router-link",{staticClass:"nav-button",attrs:{to:"/groups/add"}},[t._v("Add Group")])],1)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"header_table"},[s("th",[t._v("Id group")]),t._v(" "),s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Check group")]),t._v(" "),s("th",[t._v("Edit")]),t._v(" "),s("th",[t._v("Delete")])])}]};var B=s("VU/8")(V,q,!1,function(t){s("Td2G")},"data-v-b218a360",null).exports,W={name:"group",data:function(){return{id:this.$route.params.id,group:null,students:[],professors:[]}},methods:{getGroups:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/groups/"+this.id).then(function(t){this.group=t.data.data[0],this.students=t.data.data[0].students,this.professors=t.data.data[0].professor,console.log(t.data.data[0])}.bind(this)).catch(function(e){t.$router.push("login")})},deleteStudent:function(t){n.a.delete(this.$store.getters.getUrl+"api/studentsgroup/"+t).then(function(t){alert(t.data.deleted),this.getGroups()}.bind(this)).catch(function(t){})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getGroups()}},z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("h1",[t._v("Group name: "+t._s(t.group.name))]),t._v(" "),t._l(t.professors,function(e){return s("h4",[t._v("Professor: "+t._s(e.name[0]))])}),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t._l(t.students,function(e){return s("tr",[s("td",[t._v(t._s(e.student_id))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.tagId))]),t._v(" "),s("td",[s("button",{staticClass:"delete",on:{click:function(s){return t.deleteStudent(e.student_id)}}},[t._v("❌")])])])})],2)],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticClass:"header_table"},[e("th",[this._v("Id")]),this._v(" "),e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Tag id")]),this._v(" "),e("th",[this._v("Delete")])])}]};var Z=s("VU/8")(W,z,!1,function(t){s("doTj")},"data-v-793e223e",null).exports,H={name:"activity",data:function(){return{id:this.$route.params.id,activity:[],students:null,attandanceList:[],isCheckedBool:0,group:null,studentsGroup:null}},methods:{getActivities:function(){n.a.get("http://vps669485.ovh.net/api/activities/"+this.id).then(function(t){this.activity=t.data.data[0],this.students=t.data.data[0].students,console.log(this.students),this.getStudentsAll()}.bind(this)).catch(function(t){})},isToday:function(){var t=new Date(this.activity.activityDate),e=new Date;return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},getStudentsAll:function(){var t=this;console.log("Asdasdasdsaasdsad"),n.a.get(this.$store.getters.getUrl+"api/groups/"+this.activity.course.group_id).then(function(t){this.group=t.data.data[0],this.studentsGroup=t.data.data[0].students,console.log(this.studentsGroup)}.bind(this)).catch(function(e){t.$router.push("login")})},addToList:function(t){var e=new Date;e=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),this.attandanceList.push({student_id:t,activity_id:this.id,data_presence:e})},isOnList:function(t){for(var e=0;e<this.attandanceList.length;e++)if(this.attandanceList[e].student_id===t)return!0;return!1},addList:function(){var t=this;this.activity.checked=!0,n.a.put(this.$store.getters.getUrl+"api/activities/"+this.activity.id,this.activity).then(function(e){t.success=e.data.created}).catch(function(t){this.errors.push("Something went wrong")}.bind(this));for(var e=0;e<this.attandanceList.length;e++)n.a.post(this.$store.getters.getUrl+"api/attandancelist",this.attandanceList[e]).then(function(e){t.success=e.data.created}).catch(function(t){this.errors.push("Something went wrong")}.bind(this));alert("Attandance list was added")},isChecked:function(){return n.a.get(this.$store.getters.getUrl+"api/activities/"+this.activity.id).then(function(t){this.isCheckedBool=t.data.data[0].checked,console.log(this.isCheckedBool)}.bind(this)).catch(function(t){}),1!==this.isCheckedBool},deleteStudent:function(t){n.a.delete(this.$store.getters.getUrl+"api/attandancelist/"+t).then(function(t){alert(t.data.deleted),this.getGroups()}.bind(this)).catch(function(t){})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getActivities()}},K={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("section",{staticClass:"col-12 header"},[s("h1",[t._v("Activity: "+t._s(t.activity.title))]),t._v(" "),s("h3",[t._v(t._s(t.activity.activityDate))]),t._v(" "),s("div",{staticClass:"data"},[s("span",{staticClass:"hours"},[t._v("Hour: "+t._s(t.activity.hour))]),t._v(" "),s("span",{staticClass:"startHour"},[t._v("Duration: "+t._s(t.activity.duration))])])])]),t._v(" "),s("div",{staticClass:"row top-50"},[s("h3",[t._v("Presence Students: ")]),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t._l(t.students,function(e){return s("tr",[s("td",[t._v(t._s(e.id))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.tagId))]),t._v(" "),s("td",[t._v(t._s(e.groupId))]),t._v(" "),s("td",[s("button",{staticClass:"delete",on:{click:function(s){return t.deleteStudent(e.id)}}},[t._v("❌")])])])})],2),t._v(" "),s("div",{staticClass:"col-12 navigation_buttons"},[s("ul",[s("li",[s("router-link",{attrs:{to:{name:"addStudentAttandance",params:{activity_id:t.id,group_id:this.activity.course.group_id}}}},[t._v("Add student")])],1)])])]),t._v(" "),t.isChecked()&&t.isToday()?s("section",{staticClass:"row top-50"},[s("h3",[t._v("Check attandance list: ")]),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(1),t._v(" "),t._l(t.studentsGroup,function(e){return s("tr",[s("td",[t._v(t._s(e.student_id))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.tagId))]),t._v(" "),s("td",[s("button",{staticClass:"presence",on:{click:function(s){return t.addToList(e.student_id)}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.isOnList(e.student_id),expression:"isOnList(student.student_id)"}]},[t._v("❌")])])])])})],2),t._v(" "),s("div",{staticClass:"addList col-12"},[s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:function(e){return t.addList()}}},[t._v("Add attandance list")])])]):t._e(),t._v(" "),t.isToday()?t._e():s("section",{staticClass:"row top-50"},[s("h4",[t._v("You clould only checke attandance list in the same day")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"header_table"},[s("th",[t._v("Id")]),t._v(" "),s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Tag id")]),t._v(" "),s("th",[t._v("Group id")]),t._v(" "),s("th",[t._v("Delete")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticClass:"header_table"},[e("th",[this._v("Id")]),this._v(" "),e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Tag id")]),this._v(" "),e("th",[this._v("Presence")])])}]};var J=s("VU/8")(H,K,!1,function(t){s("gp5D")},"data-v-625b97f3",null).exports,X={name:"addGroup",data:function(){return{errors:[],success:"",group:{name:"",professor_id:localStorage.getItem("professor_id")}}},methods:{addGroup:function(){var t=this;this.errors=[],this.group.name?n.a.post(this.$store.getters.getUrl+"api/groups",this.group).then(function(e){t.success=e.data.created}).catch(function(e){t.$router.push("login")}):this.errors.push("Group name is required")}},created:function(){localStorage.getItem("token")||this.$router.push("/login")}},Q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Add new group: ")]),t._v(" "),s("div",{staticClass:"form-login align-center"},[s("span",{staticClass:"success"},[t._v(t._s(t.success))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.group.name,expression:"group.name"}],attrs:{type:"text",placeholder:"Group name",id:"name"},domProps:{value:t.group.name},on:{input:function(e){e.target.composing||t.$set(t.group,"name",e.target.value)}}}),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:t.addGroup}},[t._v("Add group")])],2)])])])},staticRenderFns:[]};var tt=s("VU/8")(X,Q,!1,function(t){s("oR7K")},"data-v-e975e932",null).exports,et={name:"editGroup",data:function(){return{course_id:this.$route.params.id,errors:[],success:"",group:{name:"",group_id:parseInt(this.$route.params.id),_method:"PUT"}}},methods:{saveGroup:function(){var t=this;n.a.post(this.$store.getters.getUrl+"api/groups/"+this.group.group_id,this.group).then(function(e){alert(e.data.updated),getGroup(t.group.group_id)}).catch(function(t){})},getGroup:function(t){var e=this;n.a.get(this.$store.getters.getUrl+"api/groups/"+this.group.group_id+"/edit").then(function(t){this.group.name=t.data[0].name}.bind(this)).catch(function(t){e.$router.push("/login")})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getGroup(this.group.group_id)}},st={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Edit group: ")]),t._v(" "),s("div",{staticClass:"form-login align-center"},[s("span",{staticClass:"success"},[t._v(t._s(t.success))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.group.name,expression:"group.name"}],attrs:{type:"text",placeholder:"Subject name",id:"name"},domProps:{value:t.group.name},on:{input:function(e){e.target.composing||t.$set(t.group,"name",e.target.value)}}}),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:function(e){return t.saveGroup()}}},[t._v("Edit group")])],2)])])])},staticRenderFns:[]};var at=s("VU/8")(et,st,!1,function(t){s("EUZK")},"data-v-b69392c4",null).exports,it={name:"addCourse",data:function(){return{errors:[],success:"",groupsId:[],subjects:[],subject_name:"",course:{name:"",group_id:0,professor_id:0,subject_id:this.$route.params.id}}},watch:{"course.group_id":function(){for(var t,e=0;e<this.groupsId.length;e++)this.groupsId[e].id==this.course.group_id&&(t=this.groupsId[e].name);this.course.name=this.subject_name+"/"+t}},methods:{addCourse:function(){var t=this;this.errors=[],this.course.name?0!==this.course.group_id?(this.course.professor_id=localStorage.getItem("professor_id"),n.a.post(this.$store.getters.getUrl+"api/courses",this.course).then(function(e){t.success=e.data.created}).catch(function(t){this.errors.push("Something went wrong")}.bind(this))):this.errors.push("Group id is required"):this.errors.push("Course name is required")},getGroupsId:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/groups").then(function(t){this.groupsId=t.data.data}.bind(this)).catch(function(e){t.$router.push("/login")})},getSubjectName:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/subjects").then(function(t){this.subjects=t.data.data;for(var e=0;e<this.subjects.length;e++)this.subjects[e].subject_id==this.course.subject_id&&(this.subject_name=this.subjects[e].name);console.log(this.subject_name)}.bind(this)).catch(function(e){t.$router.push("/login")})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getGroupsId(),this.getSubjectName()}},nt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Add new course: ")]),t._v(" "),s("div",{staticClass:"form-login align-center"},[s("span",{staticClass:"success"},[t._v(t._s(t.success))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.course.name,expression:"course.name"}],attrs:{type:"text",placeholder:"Course name",id:"name"},domProps:{value:t.course.name},on:{input:function(e){e.target.composing||t.$set(t.course,"name",e.target.value)}}}),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.course.group_id,expression:"course.group_id"}],attrs:{id:"groupId"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.course,"group_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v("Chose Group")]),t._v(" "),t._l(t.groupsId,function(e){return s("option",{domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")])})],2),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:t.addCourse}},[t._v("Add course")])],2)])])])},staticRenderFns:[]};var rt=s("VU/8")(it,nt,!1,function(t){s("pFjU")},"data-v-38e78465",null).exports,ot={name:"addSubject",data:function(){return{errors:[],success:"",subject:{name:"",professor_id:0}}},methods:{addSubject:function(){var t=this;this.errors=[],this.subject.name?(this.subject.professor_id=localStorage.getItem("professor_id"),n.a.post(this.$store.getters.getUrl+"api/subjects",this.subject).then(function(e){t.success=e.data.created}).catch(function(t){this.errors.push("Something went wrong")}.bind(this))):this.errors.push("Subject name is required")}},created:function(){localStorage.getItem("token")||this.$router.push("/login")}},ut={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Add new subectj: ")]),t._v(" "),s("div",{staticClass:"form-login align-center"},[s("span",{staticClass:"success"},[t._v(t._s(t.success))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.subject.name,expression:"subject.name"}],attrs:{type:"text",placeholder:"Subject name",id:"name"},domProps:{value:t.subject.name},on:{input:function(e){e.target.composing||t.$set(t.subject,"name",e.target.value)}}}),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:t.addSubject}},[t._v("Add Subject")])],2)])])])},staticRenderFns:[]};var ct=s("VU/8")(ot,ut,!1,function(t){s("T1hB")},"data-v-52d76de6",null).exports,dt={name:"editSubject",data:function(){return{course_id:this.$route.params.id,errors:[],success:"",subject:{name:"",subject_id:parseInt(this.$route.params.id),_method:"PUT"}}},methods:{saveSubject:function(){var t=this;n.a.post(this.$store.getters.getUrl+"api/subjects/"+this.subject.subject_id,this.subject).then(function(e){alert(e.data.updated),getSubject(t.subject.subject_id)}).catch(function(t){})},getSubject:function(t){n.a.get(this.$store.getters.getUrl+"api/subjects/"+this.subject.subject_id+"/edit").then(function(t){this.subject.name=t.data[0].name}.bind(this)).catch(function(t){})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getSubject(this.subject.subject_id)}},lt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Edit subject: ")]),t._v(" "),s("div",{staticClass:"form-login align-center"},[s("span",{staticClass:"success"},[t._v(t._s(t.success))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.subject.name,expression:"subject.name"}],attrs:{type:"text",placeholder:"Subject name",id:"name"},domProps:{value:t.subject.name},on:{input:function(e){e.target.composing||t.$set(t.subject,"name",e.target.value)}}}),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:function(e){return t.saveSubject()}}},[t._v("Edit subject")])],2)])])])},staticRenderFns:[]};var ht=s("VU/8")(dt,lt,!1,function(t){s("QZMW")},"data-v-0258bc90",null).exports,vt=s("Dd8w"),pt=s.n(vt),mt=s("Zrlr"),_t=s.n(mt),gt=s("wxAW"),ft=s.n(gt),yt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments[1],a=arguments[2],i=this,n=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{from:null,to:null};_t()(this,t),this.currentDate={year:e.year,month:e.month,date:e.date,firstDayOfWeek:e.firstDayOfWeek},this.textFormat=a,this.formatOptions=n,this.currentYear=(new Date).getFullYear(),this.lang=s,this.disabledRange=r,this.years=[].concat(D()(Array(21))).map(function(t,e){return i.currentYear+e}),this.months=this.getMonths(),this.days=this.getDays(),this.firstDayOfMonth=this.getFirstDayOfMonth(),this.dates=this.getDates(),this.daysOfMonth=this.showDates(),this.weeksOfMonth=this.getWeekOfMonth()}return ft()(t,[{key:"getDays",value:function(){for(var t=[],e=void 0,s=void 0,a=1;a<=7;a++)s=new Date(this.currentDate.year,"00",a).toLocaleString(this.lang,{weekday:this.textFormat}),e=parseInt(new Date(this.currentDate.year,"00",a).getDay()),"monday"===this.currentDate.firstDayOfWeek&&(e=(e-1+7)%7),t.push({name:s,dayNumber:e});return this.sortDays(t),t}},{key:"getMonths",value:function(){for(var t=[],e=0;e<12;e++){var s=new Date(this.currentDate.year,e).toLocaleString(this.lang,{month:this.textFormat});t.push({index:e,name:s})}return t}},{key:"getDates",value:function(){for(var t=[],e=1;e<366;e++){var s=new Date(this.currentDate.year,"00",e);t.push(s)}return t}},{key:"showDates",value:function(){var t=this,e=this.dates.findIndex(function(e){return new Date(e).getMonth()===t.currentDate.month}),s=this.dates.filter(function(e){return new Date(e).getMonth()===t.currentDate.month}),a=[],i=this.firstDayOfMonth,n=new Date(this.currentDate.year,"00",1).getDate();if(0===this.currentDate.month)for(;i>0;){var r=new Date(this.currentDate.year,"00",n-i);a.push({date:r,isDayInMouth:!1}),i-=1}else for(;i>0&&e-i>0;){var o=this.dates[e-i];a.push({date:o,isDayInMouth:!1}),i-=1}s=s.map(function(t){return{date:t,isDayInMouth:!0}}),a=a.concat(s);for(var u=0;a.length%7;){var c=e+s.length+u<365?this.dates[e+s.length+u]:new Date(this.currentDate.year+1,"00",u+1);a.push({date:c,isDayInMouth:!1}),u+=1}return a=a.map(function(e){return{mouth:new Date(e.date).getMonth(),day:new Date(e.date).getDate(),date:new Date(e.date).toLocaleDateString(t.lang,pt()({},t.formatOptions)),fullDate:new Date(e.date),isDayInMouth:e.isDayInMouth,isUsable:(!t.disabledRange.from||t.dateCompare(t.disabledRange.from,e.date,"small"))&&(!t.disabledRange.to||t.dateCompare(t.disabledRange.to,e.date,"big"))}})}},{key:"dateCompare",value:function(t,e,s){switch(t.setHours(0,0,0,0),e.setHours(0,0,0,0),s){case"small":return t.getTime()>=e.getTime();case"big":return e.getTime()>=t.getTime()}}},{key:"getFirstDayOfMonth",value:function(){var t=new Date(this.currentDate.year,this.currentDate.month,"01").getDay();return"monday"===this.currentDate.firstDayOfWeek.toLowerCase()&&(t=(t-1+7)%7),parseInt(t)}},{key:"sortDays",value:function(t){return t.sort(function(t,e){return t.dayNumber-e.dayNumber})}},{key:"getWeekOfMonth",value:function(){for(var t=this,e=[],s=Math.round(this.daysOfMonth.length/7),a=0;a<s;a++){var i=this.dates.findIndex(function(e){return new Date(e).getMonth()===t.currentDate.month}),n=Math.floor(i/7)+a+1;e.push({index:n,name:n})}return e}}]),t}(),bt={name:"VueDatePicker",data:function(){return{calendarWiew:"day",counter:0,isShowPicker:!1,currentDate:{year:(new Date).getFullYear(),month:(new Date).getMonth(),date:(new Date).getDate(),firstDayOfWeek:this.firstDayOfWeek},currentDateEnd:{year:(new Date).getFullYear(),month:(new Date).getMonth(),date:(new Date).getDate(),firstDayOfWeek:this.firstDayOfWeek},selectedDate:this.range?[null,null]:null}},props:{textFormat:{type:String,default:"short"},dateFormat:{type:Object,default:function(){return{day:"2-digit",month:"long",year:"numeric"}}},position:{type:String,default:"left"},value:{type:[Array,String,Date]},range:{type:Boolean,default:!1},lang:{type:String,default:"tr"},inputClass:{type:String,default:""},firstDayOfWeek:{type:String,default:"monday"},disabledStartDate:{type:Object,default:function(){return{from:null,to:null}}},disabledEndDate:{type:Object,default:function(){return{from:null,to:null}}}},computed:{disabledStartDateCalc:function(){var t={from:null,to:null};if(this.range){var e=new Date(this.selectedDate[1]);e=!this.disabledStartDate.from||e.getTime()<this.disabledStartDate.from.getTime()?e:this.disabledStartDate.from,t.from=e,t.to=this.disabledStartDate.from}return t},disabledEndDateCalc:function(){var t={from:null,to:null};if(this.range){var e=new Date(this.selectedDate[0]);e=!this.disabledEndDate.to||e.getTime()>this.disabledStartDate.to.getTime()?e:this.disabledStartDate.from,t.to=e,t.from=this.disabledEndDate.from}return t},calendar:function(){return new yt(this.currentDate,this.lang,this.textFormat,pt()({},this.dateFormat),this.range?this.disabledStartDateCalc:this.disabledStartDate)},calendarEnd:function(){return!!this.range&&new yt(this.currentDateEnd,this.lang,this.textFormat,pt()({},this.dateFormat),this.range?this.disabledEndDateCalc:this.disabledEndDate)},formattedValue:function(){return this.range?this.formatDate(this.selectedDate[0])+" ~ "+this.formatDate(this.selectedDate[1]):this.formatDate(this.selectedDate)}},methods:{formatDate:function(t){return new Date(t).toLocaleDateString(this.lang,pt()({},this.dateFormat))},prevMount:function(t){var e="start"===t?this.currentDate:this.currentDateEnd;e.month=e.month-1,-1===e.month&&(e.year=e.year-1,e.month=11)},nextMount:function(t){var e="start"===t?this.currentDate:this.currentDateEnd;e.month=e.month+1,12===e.month&&(e.year=e.year+1,e.month=0)},handlerDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.range){var s=["start"===e?t:this.selectedDate[0],"end"===e?t:this.selectedDate[1]];this.setDate(s)}else this.setDate(t)},setDate:function(t){this.$emit("input",t),this.selectedDate=t},isInSelectedDate:function(t){return new Date(this.selectedDate[0]).getTime()<=t.getTime()&&new Date(this.selectedDate[1]).getTime()>=t.getTime()},changeView:function(t){this.calendarWiew=t}},mounted:function(){var t=this;this.setDate(this.value),window.addEventListener("click",function(e){e.target.closest(".v-calendar")||(t.isShowPicker=!1)})}},Ct={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"v-calendar",class:[t.position,{long:t.range}]},[s("div",{staticClass:"input-field",class:{long:t.range}},[s("svg",{staticClass:"datepicker",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"}},[s("title",[t._v("calendar")]),t._v(" "),s("path",{attrs:{d:"M10 12h4v4h-4zM16 12h4v4h-4zM22 12h4v4h-4zM4 24h4v4h-4zM10 24h4v4h-4zM16 24h4v4h-4zM10 18h4v4h-4zM16 18h4v4h-4zM22 18h4v4h-4zM4 18h4v4h-4zM26 0v2h-4v-2h-14v2h-4v-2h-4v32h30v-32h-4zM28 30h-26v-22h26v22z"}})]),t._v(" "),s("input",{class:[t.inputClass],attrs:{type:"text",readonly:""},domProps:{value:t.formattedValue},on:{click:function(e){t.isShowPicker=!t.isShowPicker}}})]),t._v(" "),t.isShowPicker?s("div",{staticClass:"content"},[s("div",{staticClass:"calendar",class:{textLong:"long"===t.textFormat}},[s("div",{staticClass:"selected-field"},[s("div",{staticClass:"selected-date"},[s("button",{staticClass:"prevDateButton",attrs:{type:"button"},on:{click:function(e){return t.prevMount("start")}}}),t._v(" "),s("button",{staticClass:"viewButton",attrs:{type:"button"}},[t._v(t._s(this.calendar.months[t.currentDate.month].name)+" "+t._s(this.currentDate.year))]),t._v(" "),s("button",{staticClass:"nextDateButton",attrs:{type:"button"},on:{click:function(e){return t.nextMount("start")}}})])]),t._v(" "),s("div",{staticClass:"days"},[t._l(t.calendar.days,function(e){return s("div",{key:e.dayNumber+"-day",staticClass:"day name"},[t._v("\n          "+t._s(e.name)+"\n        ")])}),t._v(" "),t._l(t.calendar.daysOfMonth,function(e,a){return s("button",{key:a+"-mounthday",staticClass:"day square",class:[{disabledDate:!e.isDayInMouth||!e.isUsable},{selectedDate:t.range?t.formatDate(t.selectedDate[0])===e.date:t.formatDate(t.selectedDate)===e.date},{selectedRange:t.isInSelectedDate(e.fullDate)}],attrs:{type:"button"},on:{click:function(s){return t.handlerDate(e.fullDate,"start")}}},[s("span",{staticClass:"number"},[t._v(t._s(e.day))])])})],2)]),t._v(" "),t.range?s("div",{staticClass:"calendar",class:{textLong:"long"===t.textFormat}},[s("div",{staticClass:"selected-field"},[s("div",{staticClass:"selected-date"},[s("button",{staticClass:"prevDateButton",attrs:{type:"button"},on:{click:function(e){return t.prevMount("end")}}}),t._v(" "),s("div",[t._v(t._s(this.calendarEnd.months[t.currentDateEnd.month].name)+" "+t._s(this.currentDateEnd.year)+" ")]),t._v(" "),s("button",{staticClass:"nextDateButton",attrs:{type:"button"},on:{click:function(e){return t.nextMount("end")}}})])]),t._v(" "),s("div",{staticClass:"days"},[t._l(t.calendarEnd.days,function(e){return s("div",{key:e.dayNumber+"-day",staticClass:"day name"},[t._v("\n          "+t._s(e.name)+"\n        ")])}),t._v(" "),t._l(t.calendarEnd.daysOfMonth,function(e,a){return s("button",{key:a+"-mounthday",staticClass:"day square",class:[{disabledDate:!e.isDayInMouth||!e.isUsable},{selectedDate:t.formatDate(t.selectedDate[1])===e.date},{selectedRange:t.isInSelectedDate(e.fullDate)}],attrs:{type:"button"},on:{click:function(s){return t.handlerDate(e.fullDate,"end")}}},[s("span",{staticClass:"number"},[t._v(t._s(e.day))])])})],2)]):t._e()]):t._e()])},staticRenderFns:[]};var Dt={name:"addActivity",components:{Calendar:s("VU/8")(bt,Ct,!1,function(t){s("Mx7Z")},null,null).exports,CalendarShow:M},data:function(){return{showSimple:!1,showRecurent:!1,newdate:null,courses:[],groups:[],dates:[],errors:[],success:"",activities:[],activitiesSelected:[],recurrence:0,activity:{activityDate:"",title:"",duration:null,hour:null,course_id:0,recurrence_id:null,professor_id:null,group_id:0},calendars:[{title:"Simple activity",inputClass:"exampleDatePicker",lang:"en",position:"left",range:!1,value:new Date,firstDayOfWeek:"monday"},{title:"Recurrent activity",inputClass:"exampleDatePicker",lang:"en",position:"right",range:!0,value:[new Date,new Date((new Date).getTime()+7776e5)]}],hh:null,mm:null}},computed:{takeDate:function(){return this.newdate},notNull:function(){return null!==this.hh||null!==this.mm},takeActivitiesSelected:function(){if(0!=this.activitiesSelected.length&&(this.activitiesSelected=[]),0!=this.activities.length){var t=this.$store.getters.getSelectedDate.replace("/","-");t=t.replace("/","-");for(var e=0;e<this.activities.length;e++)this.activities[e].activityDate===t&&this.activitiesSelected.push(this.activities[e]),console.log(t+"------"+this.activities[e].activityDate)}}},methods:{addActivity:function(t){var e=this;if(this.errors=[],this.activity.title)if(0!==this.activity.duration)if(this.hh&&this.mm)if(0===this.activity.course_id&&(this.activity.course_id=null),0===this.activity.group_id&&(this.activity.group_id=null),this.activity.hour=this.hh+":"+this.mm,t){this.setDates();var s=this.dates.length,a=[{dateStart:this.dates[0],dateEnd:this.dates[s-1],everyDay:0}];n.a.post(this.$store.getters.getUrl+"api/recurrences",a[0]).then(function(t){e.success=t.data.created,e.activity.recurrence_id=t.data.id;for(var a=0;a<s;a++){var i={activityDate:e.dates[a],title:e.activity.title,duration:e.activity.duration,hour:e.activity.hour,course_id:e.activity.course_id,recurrence_id:e.activity.recurrence_id,checked:!1,group_id:e.activity.group_id,professor_id:localStorage.getItem("professor_id")};n.a.post(e.$store.getters.getUrl+"api/activities",i).then(function(t){e.success=t.data.created}).catch(function(t){this.errors.push("Something went wrong")}.bind(e))}}).catch(function(t){this.errors.push("Something went wrong")}.bind(this))}else{var i=this.calendars[0].value;this.activity.activityDate=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),this.activity.professor_id=localStorage.getItem("professor_id"),this.activity.checked=!1,n.a.post(this.$store.getters.getUrl+"api/activities",this.activity).then(function(t){e.success=t.data.created}).catch(function(t){this.errors.push("Something went wrong")}.bind(this))}else this.errors.push("Time is required");else this.errors.push("Duration is required");else this.errors.push("Activity title is required")},setDates:function(){var t=this.calendars[1].value[0];this.dates.push(t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate());var e=void 0;for(e=0===this.recurrence?7:1;t.setDate(t.getDate()+e),!(t>this.calendars[1].value[1]);)this.dates.push(t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate())},clear:function(){this.hh=this.mm=null},evaluate:function(t){var e=this[t.pointer];!isNaN(t.max)&&this[t.pointer]>t.max&&(e=t.max),!isNaN(t.min)&&this[t.pointer]<t.min&&(e=t.min),this[t.pointer]=e,this.$emit("change",t.pointer,e)},getCoursesId:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/courses").then(function(t){this.courses=t.data.data}.bind(this)).catch(function(e){t.$router.push("/login")})},getGroupsId:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/groups").then(function(t){this.groups=t.data.data}.bind(this)).catch(function(e){t.$router.push("/login")})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getCoursesId(),this.getGroupsId(),n.a.get(this.$store.getters.getUrl+"api/activities").then(function(t){this.activities=t.data.data,this.$store.commit("setActivities",{activities:this.activities})}.bind(this)).catch(function(t){})}},wt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container offset_top"},[s("div",{staticClass:"row"},[s("div",{staticClass:"activitiesCalendar col-12 col-lg-6"},[0!=t.activities.length?s("CalendarShow"):t._e()],1),t._v(" "),s("div",{staticClass:"right_column col-12 col-lg-6"},[s("h1",{on:{click:function(e){return t.setDates()}}},[t._v("Add your activity")]),t._v(" "),s("span",{staticClass:"success"},[t._v(t._s(t.success))]),t._v(" "),s("section",{staticClass:"navigation_buttons"},[s("h3",{staticClass:"nav-button",on:{click:function(e){t.showRecurent=!t.showRecurent,t.showSimple=!1}}},[t._v(t._s(t.calendars[1].title))]),t._v(" "),s("h3",{staticClass:"nav-button",on:{click:function(e){t.showSimple=!t.showSimple,t.showRecurent=!1}}},[t._v(t._s(t.calendars[0].title))])]),t._v(" "),t.showSimple?s("div",{staticClass:"activity simpleActivity col-12"},[s("span",{staticClass:"label"},[t._v("Date")]),t._v(" "),s("Calendar",{attrs:{range:t.calendars[0].range,lang:t.calendars[0].lang,firstDayOfWeek:t.calendars[0].firstDayOfWeek,"input-class":t.calendars[0].inputClass,position:t.calendars[0].position,"disabled-start-date":t.calendars[0].disabledStartDate,"text-format":t.calendars[0].textFormat,"date-format":t.calendars[0].dateFormat,"disabled-end-date":t.calendars[0].disabledEndDate},model:{value:t.calendars[0].value,callback:function(e){t.$set(t.calendars[0],"value",e)},expression:"calendars[0].value"}}),t._v(" "),s("span",{staticClass:"label"},[t._v("Time & Duration(min)")]),t._v(" "),s("div",{staticClass:"datetime"},[s("div",{staticClass:"time"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.hh,expression:"hh"}],attrs:{type:"number",placeholder:"hh",min:"0",max:"23"},domProps:{value:t.hh},on:{change:function(e){return t.evaluate({pointer:"hh"})},input:function(e){e.target.composing||(t.hh=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.mm,expression:"mm"}],attrs:{type:"number",placeholder:"mm",min:"0",max:"59",step:"30"},domProps:{value:t.mm},on:{change:function(e){return t.evaluate({pointer:"mm"})},input:function(e){e.target.composing||(t.mm=e.target.value)}}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.notNull,expression:"notNull"}],on:{click:t.clear}},[t._v("×")])]),t._v(" "),s("div",{staticClass:"duration"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.activity.duration,expression:"activity.duration"}],attrs:{type:"number",placeholder:"Duration(min)",min:"0",max:"600",step:"15"},domProps:{value:t.activity.duration},on:{change:function(e){return t.evaluate({pointer:"hh"})},input:function(e){e.target.composing||t.$set(t.activity,"duration",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.activity.title,expression:"activity.title"}],staticClass:"title",attrs:{type:"text",placeholder:"Activity title"},domProps:{value:t.activity.title},on:{input:function(e){e.target.composing||t.$set(t.activity,"title",e.target.value)}}}),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.activity.course_id,expression:"activity.course_id"}],staticClass:"courseId",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activity,"course_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0",selected:""}},[t._v("Free activity")]),t._v(" "),t._l(t.courses,function(e){return s("option",{domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")])})],2),t._v(" "),0==t.activity.course_id?s("select",{directives:[{name:"model",rawName:"v-model",value:t.activity.group_id,expression:"activity.group_id"}],staticClass:"courseId",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activity,"group_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0",disabled:""}},[t._v("Chose group")]),t._v(" "),t._l(t.groups,function(e){return s("option",{domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")])})],2):t._e(),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:function(e){return t.addActivity(!1)}}},[t._v("Add activity")])],2)],1):t._e(),t._v(" "),t.showRecurent?s("div",{staticClass:"activity recurentActivity col-12"},[s("span",{staticClass:"label"},[t._v("Date")]),t._v(" "),s("Calendar",{attrs:{range:t.calendars[1].range,lang:t.calendars[1].lang,firstDayOfWeek:t.calendars[1].firstDayOfWeek,"input-class":t.calendars[1].inputClass,position:t.calendars[1].position,"disabled-start-date":t.calendars[1].disabledStartDate,"text-format":t.calendars[1].textFormat,"date-format":t.calendars[1].dateFormat,"disabled-end-date":t.calendars[1].disabledEndDate},model:{value:t.calendars[1].value,callback:function(e){t.$set(t.calendars[1],"value",e)},expression:"calendars[1].value"}}),t._v(" "),s("span",{staticClass:"label"},[t._v("Time & Duration(min)")]),t._v(" "),s("div",{staticClass:"datetime"},[s("div",{staticClass:"time"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.hh,expression:"hh"}],attrs:{type:"number",placeholder:"hh",min:"0",max:"23"},domProps:{value:t.hh},on:{change:function(e){return t.evaluate({pointer:"hh"})},input:function(e){e.target.composing||(t.hh=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.mm,expression:"mm"}],attrs:{type:"number",placeholder:"mm",min:"0",max:"59",step:"30"},domProps:{value:t.mm},on:{change:function(e){return t.evaluate({pointer:"mm"})},input:function(e){e.target.composing||(t.mm=e.target.value)}}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.notNull,expression:"notNull"}],on:{click:t.clear}},[t._v("×")])]),t._v(" "),s("div",{staticClass:"duration"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.activity.duration,expression:"activity.duration"}],attrs:{type:"number",placeholder:"Duration(min)",min:"0",max:"600",step:"15"},domProps:{value:t.activity.duration},on:{change:function(e){return t.evaluate({pointer:"hh"})},input:function(e){e.target.composing||t.$set(t.activity,"duration",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"content"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.recurrence,expression:"recurrence"}],staticClass:"recurrence",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.recurrence=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"0",selected:""}},[t._v("Every week")]),t._v(" "),s("option",{attrs:{value:"1",selected:""}},[t._v("Every day")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.activity.title,expression:"activity.title"}],staticClass:"title",attrs:{type:"text",placeholder:"Activity title"},domProps:{value:t.activity.title},on:{input:function(e){e.target.composing||t.$set(t.activity,"title",e.target.value)}}}),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.activity.course_id,expression:"activity.course_id"}],staticClass:"courseId",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activity,"course_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0",selected:""}},[t._v("Free activity")]),t._v(" "),t._l(t.courses,function(e){return s("option",{domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")])})],2),t._v(" "),0==t.activity.course_id?s("select",{directives:[{name:"model",rawName:"v-model",value:t.activity.group_id,expression:"activity.group_id"}],staticClass:"courseId",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activity,"group_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0",disabled:""}},[t._v("Chose group")]),t._v(" "),t._l(t.groups,function(e){return s("option",{domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")])})],2):t._e(),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:function(e){return t.addActivity(!0)}}},[t._v("Add activity")])],2)],1):t._e()])]),t._v(" "),s("div",{staticClass:"row"},[s("section",{staticClass:"col-12 activities_show"},[s("h2",[t._v("Activities")]),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t._l(t.activitiesSelected,function(e){return s("tr",[s("td",[t._v(t._s(e.id))]),t._v(" "),s("td",[t._v(t._s(e.title))]),t._v(" "),s("td",[t._v(t._s(e.activityDate))]),t._v(" "),s("td",[t._v(t._s(e.hour))]),t._v(" "),s("td",[t._v(t._s(e.duration))]),t._v(" "),s("td",[s("router-link",{attrs:{to:"/activities/"+e.id}},[t._v("more..")])],1)])})],2),t._v("\n        "+t._s(t.takeActivitiesSelected)+"\n      ")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"header_table"},[s("th",[t._v("Id")]),t._v(" "),s("th",[t._v("Title")]),t._v(" "),s("th",[t._v("Date")]),t._v(" "),s("th",[t._v("Hour")]),t._v(" "),s("th",[t._v("Duration")]),t._v(" "),s("th",[t._v("Check activity")])])}]};var St=s("VU/8")(Dt,wt,!1,function(t){s("mZtx")},"data-v-14a43fbc",null).exports,kt={name:"attandanceList",data:function(){return{id:this.$route.params.id,activities:[],activity:0,isCheckedBool:0,students:[],attandanceList:[],studentsGroup:[]}},methods:{getActivities:function(){var t=this;n.a.get("http://vps669485.ovh.net/api/activities").then(function(t){var e=t.data.data;this.students=t.data.data[0].students,this.isToday(e)}.bind(this)).catch(function(e){t.$router.push("login")})},isToday:function(t){for(var e=!1,s=0;s<t.length;s++){var a=new Date(t[s].activityDate),i=new Date;a.getFullYear()===i.getFullYear()&&a.getMonth()===i.getMonth()&&a.getDate()===i.getDate()&&(this.activities.push(t[s]),e=!0)}return e},getStudentsAll:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/groups/"+this.activity.course.group_id).then(function(t){return this.studentsGroup=t.data.data[0].students,!0}.bind(this)).catch(function(e){t.$router.push("login")})},addToList:function(t){var e=new Date;e=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),this.attandanceList.push({student_id:t,activity_id:this.activity.id,data_presence:e}),console.log(this.attandanceList)},isOnList:function(t){for(var e=0;e<this.attandanceList.length;e++)if(this.attandanceList[e].student_id===t)return!0;return!1},addList:function(){var t=this;this.activity.checked=!0,n.a.put(this.$store.getters.getUrl+"api/activities/"+this.activity.id,this.activity).then(function(e){t.success=e.data.created}).catch(function(t){this.errors.push("Something went wrong")}.bind(this));for(var e=0;e<this.attandanceList.length;e++)n.a.post(this.$store.getters.getUrl+"api/attandancelist",this.attandanceList[e]).then(function(e){t.success=e.data.created}).catch(function(t){this.errors.push("Something went wrong")}.bind(this));alert("Attandance list was added")},isChecked:function(){return n.a.get(this.$store.getters.getUrl+"api/activities/"+this.activity.id).then(function(t){this.isCheckedBool=t.data.data[0].checked,1===this.isCheckedBool&&(alert("This activity was checked before!"),this.$router.push("/attandancelist/add"))}.bind(this)).catch(function(t){}),1!==this.isCheckedBool}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getActivities()}},$t={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("section",{staticClass:"col-12 header"},[s("h1",[t._v("Select activity:")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.activity,expression:"activity"}],staticClass:"courseId",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.activity=e.target.multiple?s:s[0]},function(e){return t.getStudentsAll()}]}},[s("option",{attrs:{value:"0",selected:""}},[t._v("Chose activity")]),t._v(" "),t._l(t.activities,function(e){return s("option",{domProps:{value:e}},[t._v("\n               "+t._s(e.activityDate)+" "+t._s(e.hour)+"\n             ")])})],2)])]),t._v(" "),t.isChecked()?s("section",{staticClass:"row top-50"},[s("h3",[t._v("Check   list: ")]),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t._l(t.studentsGroup,function(e){return s("tr",[s("td",[t._v(t._s(e.student_id))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.tagId))]),t._v(" "),s("td",[s("button",{staticClass:"presence",on:{click:function(s){return t.addToList(e.student_id)}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.isOnList(e.student_id),expression:"isOnList(student.student_id)"}]},[t._v("❌")])])])])})],2),t._v(" "),s("div",{staticClass:"addList col-12"},[s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:function(e){return t.addList()}}},[t._v("Add attandance list")])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticClass:"header_table"},[e("th",[this._v("Id")]),this._v(" "),e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Tag id")]),this._v(" "),e("th",[this._v("Presence")])])}]};var xt=s("VU/8")(kt,$t,!1,function(t){s("XzqO")},"data-v-283e7178",null).exports,jt={name:"totalAttandance",data:function(){return{attandances:[],course_id:this.$route.params.id}},methods:{getTotalAttandance:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/attandancelist/"+this.course_id).then(function(t){this.attandances=t.data,console.log(this.attandances)}.bind(this)).catch(function(e){t.$router.push("login")})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getTotalAttandance()}},It={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("section",{staticClass:"col-12"},[s("h1",[t._v("All groups")]),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t._l(t.attandances,function(e){return s("tr",[s("td",[t._v(t._s(e.student.student_id))]),t._v(" "),s("td",[t._v(t._s(e.student.name))]),t._v(" "),s("td",[t._v(t._s((100*e.total).toFixed(2))+"%")])])})],2)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticClass:"header_table"},[e("th",[this._v("Id")]),this._v(" "),e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Attandance Freq[%]")])])}]};var Mt=s("VU/8")(jt,It,!1,function(t){s("1Sxu")},"data-v-302d1b04",null).exports,At={name:"adminMenu",data:function(){return{adminMenu:[]}},created:function(){localStorage.getItem("token")||this.$router.push("/login")}},Et={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("section",{staticClass:"col-12"},[e("h1",[this._v("Admin")]),this._v(" "),e("div",{staticClass:"col-12 navigation_buttons"},[e("ul",[e("li",[e("router-link",{staticClass:"nav-button",attrs:{to:"/students/"}},[this._v("Students")])],1),this._v(" "),e("li",[e("router-link",{staticClass:"nav-button",attrs:{to:"/professors/"}},[this._v("Professors")])],1)])])])])])},staticRenderFns:[]};var Ut=s("VU/8")(At,Et,!1,function(t){s("J8oL")},"data-v-e6fcc7aa",null).exports,Nt={name:"adminStudent",data:function(){return{students:[]}},methods:{getStudents:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/students").then(function(t){this.students=t.data}.bind(this)).catch(function(e){t.$router.push("/login")})},deleteStudent:function(t){var e=this;n.a.delete(this.$store.getters.getUrl+"api/students/"+t).then(function(t){alert(t.data.deleted),this.getStudents()}.bind(this)).catch(function(t){e.$router.push("/login")})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getStudents()}},Pt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("section",{staticClass:"col-12"},[s("h1",[t._v("Subjects")]),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t._l(t.students,function(e){return s("tr",[s("td",[t._v(t._s(e.student_id))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.email))]),t._v(" "),s("td",[t._v(t._s(e.tagId))]),t._v(" "),s("td",[s("router-link",{staticClass:"nav-button",attrs:{to:"/student/edit/"+e.student_id}},[t._v("Edit student")])],1),t._v(" "),s("td",[s("button",{staticClass:"delete",on:{click:function(s){return t.deleteStudent(e.student_id)}}},[t._v("❌")])])])})],2)]),t._v(" "),s("div",{staticClass:"col-12 navigation_buttons"},[s("ul",[s("li",[s("router-link",{staticClass:"nav-button",attrs:{to:"/student/add"}},[t._v("Add Student")])],1)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"header_table"},[s("th",[t._v("Id")]),t._v(" "),s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Email")]),t._v(" "),s("th",[t._v("TagId")]),t._v(" "),s("th",[t._v("Edit")]),t._v(" "),s("th",[t._v("Delete")])])}]};var Ft=s("VU/8")(Nt,Pt,!1,function(t){s("B621")},"data-v-22608184",null).exports,Ot={name:"adminProfessor",data:function(){return{professors:[]}},methods:{getProfessors:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/professors").then(function(t){this.professors=t.data,console.log(t.data)}.bind(this)).catch(function(e){t.$router.push("/login")})},deleteProfessor:function(t){var e=this;n.a.delete(this.$store.getters.getUrl+"api/professors/"+t).then(function(t){alert(t.data.deleted),this.getProfessors()}.bind(this)).catch(function(t){e.$router.push("/login")})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getProfessors()}},Tt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("section",{staticClass:"col-12"},[s("h1",[t._v("Professors")]),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t._l(t.professors,function(e){return s("tr",[s("td",[t._v(t._s(e.id))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.email))]),t._v(" "),s("td",[t._v(t._s(e.tagId))]),t._v(" "),s("td",[s("router-link",{staticClass:"nav-button",attrs:{to:"/professor/edit/"+e.id}},[t._v("Edit professor")])],1),t._v(" "),s("td",[s("button",{staticClass:"delete",on:{click:function(s){return t.deleteProfessor(e.id)}}},[t._v("❌")])])])})],2)]),t._v(" "),s("div",{staticClass:"col-12 navigation_buttons"},[s("ul",[s("li",[s("router-link",{staticClass:"nav-button",attrs:{to:"/professor/add"}},[t._v("Add Subject")])],1)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"header_table"},[s("th",[t._v("Id")]),t._v(" "),s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Email")]),t._v(" "),s("th",[t._v("Tag id")]),t._v(" "),s("th",[t._v("Edit")]),t._v(" "),s("th",[t._v("Delete")])])}]};var Gt=s("VU/8")(Ot,Tt,!1,function(t){s("KhGk")},"data-v-4bae09f2",null).exports,Yt={name:"addprofessor",data:function(){return{errors:[],success:"",groups:[],professor:{name:"",password:"",email:"",tagId:""}}},methods:{addProfessor:function(){var t=this;this.errors=[],this.professor.name?this.professor.tagId?this.professor.password?(this.professor.email?this.validEmail(this.professor.email)||this.errors.push("Valid email required."):this.errors.push("Email required."),n.a.post(this.$store.getters.getUrl+"api/professors",this.professor).then(function(e){t.success=e.data.created,console.log(e.data)}).catch(function(t){this.errors.push("Something went wrong")}.bind(this))):this.errors.push("Password id is required"):this.errors.push("Tag id is required"):this.errors.push("Name is required")},validEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}},created:function(){localStorage.getItem("token")||this.$router.push("/login")}},Rt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Add new professor: ")]),t._v(" "),s("div",{staticClass:"form-login align-center"},[s("span",{staticClass:"success"},[t._v(t._s(t.success))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.name,expression:"professor.name"}],attrs:{type:"text",placeholder:"Professor name and surename",id:"name"},domProps:{value:t.professor.name},on:{input:function(e){e.target.composing||t.$set(t.professor,"name",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.password,expression:"professor.password"}],attrs:{type:"text",placeholder:"Professor password",id:"password"},domProps:{value:t.professor.password},on:{input:function(e){e.target.composing||t.$set(t.professor,"password",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.email,expression:"professor.email"}],attrs:{type:"email",placeholder:"Professor email",id:"email"},domProps:{value:t.professor.email},on:{input:function(e){e.target.composing||t.$set(t.professor,"email",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.tagId,expression:"professor.tagId"}],attrs:{type:"text",placeholder:"Professor tag id",id:"tagId"},domProps:{value:t.professor.tagId},on:{input:function(e){e.target.composing||t.$set(t.professor,"tagId",e.target.value)}}}),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:t.addProfessor}},[t._v("Add professor")])],2)])])])},staticRenderFns:[]};var Lt=s("VU/8")(Yt,Rt,!1,function(t){s("PP7f")},"data-v-308023a4",null).exports,Vt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row",staticStyle:{"margin-top":"15px"}},[s("div",{staticClass:"col-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.name,expression:"student.name"}],attrs:{type:"text",placeholder:"Student name and surename",id:"name"},domProps:{value:t.student.name},on:{input:function(e){e.target.composing||t.$set(t.student,"name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.email,expression:"student.email"}],attrs:{type:"email",placeholder:"Student email",id:"email"},domProps:{value:t.student.email},on:{input:function(e){e.target.composing||t.$set(t.student,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.tagId,expression:"student.tagId"}],attrs:{type:"text",placeholder:"Student tag id",id:"tagId"},domProps:{value:t.student.tagId},on:{input:function(e){e.target.composing||t.$set(t.student,"tagId",e.target.value)}}})])])},staticRenderFns:[]};var qt=s("VU/8")({name:"inputForms",props:["input"],data:function(){return{student:{name:"",email:"",tagId:"",id:null}}},methods:{},watch:{"student.name":function(){this.student.id=this.input,this.$emit("save",this.student)}}},Vt,!1,function(t){s("fB5Z")},"data-v-2f091e13",null).exports,Bt=s("NYxO");a.a.use(Bt.a);var Wt={name:"addstudent",components:{inputForms:qt},data:function(){return{errors:[],success:"",i:0,groups:[],students:[],inputs:1}},methods:{addRow:function(){this.inputs++},saveRecord:function(t){this.students[t.id-1]=t},addStudent:function(){this.errors=[];for(var t=[],e=0;e<this.students.length;e++){var s={name:this.students[e].name,email:this.students[e].email,tagId:this.students[e].tagId};if(t.push(s),!s.name)return void this.errors.push("Name is required");if(!s.tagId)return void this.errors.push("Tag id is required");if(!s.email)return void this.errors.push("Email required.");if(!this.validEmail(s.email))return void this.errors.push("Valid email required.");t.length==this.students.length&&this.saveStudents(t)}},saveStudents:function(t){for(var e=this,s=0;s<t.length;s++)n.a.post(this.$store.getters.getUrl+"api/students",t[s]).then(function(t){e.success=t.data.created,console.log(t.data)}).catch(function(t){this.errors.push("Something went wrong")}.bind(this))},validEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}},created:function(){localStorage.getItem("token")||this.$router.push("/login")}},zt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Add new student: ")]),t._v(" "),s("div",{staticClass:"form-login align-center"},[s("span",{staticClass:"success"},[t._v(t._s(t.success))]),t._v(" "),s("div",{attrs:{id:"form-center"}},t._l(t.inputs,function(e){return s("inputForms",{key:e,attrs:{props:e,input:e},on:{save:t.saveRecord}})}),1),t._v(" "),s("button",{staticClass:"u-full-width button-primary",on:{click:t.addRow}},[t._v("More")]),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:t.addStudent}},[t._v("Add student")])],2)])])])},staticRenderFns:[]};var Zt=s("VU/8")(Wt,zt,!1,function(t){s("Fymg")},"data-v-34cd19a2",null).exports,Ht={name:"addStudentGroup",data:function(){return{errors:[],success:"",groups:[],search:"",searched:0,students:[],student:{student_id:null,group_id:0}}},computed:{filteredList:function(){var t=this;return this.students.filter(function(e){return e.email.toLowerCase().includes(t.search.toLowerCase())})}},watch:{search:function(){""===this.search&&(this.searched=0)}},methods:{selectStudent:function(t){this.student.student_id=t;for(var e=0;e<this.students.length;e++)this.student.student_id===this.students[e].student_id&&(this.search=this.students[e].email,this.searched=1)},addStudent:function(){var t=this;this.errors=[],console.log(this.student),this.student.student_id?0!==this.student.group_id?n.a.post(this.$store.getters.getUrl+"api/studentsgroup",this.student).then(function(e){t.success=e.data.created}).catch(function(t){this.errors.push("Something went wrong")}.bind(this)):this.errors.push("Group is required"):this.errors.push("Email is required")},getStudents:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/students").then(function(t){this.students=t.data,console.log(t.data)}.bind(this)).catch(function(e){t.$router.push("/login")})},getGroupsId:function(){var t=this;n.a.get(this.$store.getters.getUrl+"api/groups").then(function(t){this.groups=t.data.data,console.log(t.data.data)}.bind(this)).catch(function(e){t.$router.push("/login")})}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getGroupsId(),this.getStudents()}},Kt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Add new student: ")]),t._v(" "),s("div",{staticClass:"form-login align-center"},[s("span",{staticClass:"success"},[t._v(t._s(t.success))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"search",placeholder:"Student email",id:"name",autocomplete:"off"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),t.searched?t._e():s("div",{staticClass:"input_prompt"},[s("ul",t._l(t.filteredList,function(e,a){return a<4?s("li",{on:{click:function(s){return t.selectStudent(e.student_id)}}},[s("span",[t._v(t._s(e.email))])]):t._e()}),0)]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.student.group_id,expression:"student.group_id"}],attrs:{id:"groupId"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.student,"group_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v("Chose Group")]),t._v(" "),t._l(t.groups,function(e){return s("option",{domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")])})],2),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:function(e){return t.addStudent()}}},[t._v("Add student")])],2)])])])},staticRenderFns:[]};var Jt=s("VU/8")(Ht,Kt,!1,function(t){s("g43Z")},"data-v-471ea959",null).exports,Xt={name:"editProfessor",data:function(){return{errors:[],success:"",professor_id:this.$route.params.id,professor:{name:"",password:"",email:"",tagId:"",_method:"PUT"}}},methods:{saveProfessor:function(){var t=this;professor.name?professor.tagId?professor.password?professor.email?this.validEmail(professor.email)?(console.log(this.professor),n.a.post(this.$store.getters.getUrl+"api/professors/"+this.professor_id,this.professor).then(function(e){alert(e.data.updated),t.getProfessor(t.professor_id)}).catch(function(e){t.$router.push("/login")})):this.errors.push("Valid email required."):this.errors.push("Email required."):this.errors.push("Password is required"):this.errors.push("Tag id is required"):this.errors.push("Name is required")},getProfessor:function(t){var e=this;n.a.get(this.$store.getters.getUrl+"api/professors/"+t+"/edit").then(function(t){this.professor.name=t.data[0].name,this.professor.email=t.data[0].email,this.professor.tagId=t.data[0].tagId,console.log(t.data[0])}.bind(this)).catch(function(t){e.$router.push("/login")})},validEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getProfessor(this.professor_id)}},Qt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Edit professor: ")]),t._v(" "),s("div",{staticClass:"form-login align-center"},[s("span",{staticClass:"success"},[t._v(t._s(t.success))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.name,expression:"professor.name"}],attrs:{type:"text",placeholder:"Professor name and surename",id:"name"},domProps:{value:t.professor.name},on:{input:function(e){e.target.composing||t.$set(t.professor,"name",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.password,expression:"professor.password"}],attrs:{type:"text",placeholder:"Professor password",id:"password"},domProps:{value:t.professor.password},on:{input:function(e){e.target.composing||t.$set(t.professor,"password",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.email,expression:"professor.email"}],attrs:{type:"email",placeholder:"Professor email",id:"email"},domProps:{value:t.professor.email},on:{input:function(e){e.target.composing||t.$set(t.professor,"email",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.tagId,expression:"professor.tagId"}],attrs:{type:"text",placeholder:"Professor tag id",id:"tagId"},domProps:{value:t.professor.tagId},on:{input:function(e){e.target.composing||t.$set(t.professor,"tagId",e.target.value)}}}),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:function(e){return t.saveProfessor()}}},[t._v("Edit professor")])],2)])])])},staticRenderFns:[]};var te=s("VU/8")(Xt,Qt,!1,function(t){s("JTe/")},"data-v-5967a18c",null).exports,ee={name:"editStudent",data:function(){return{errors:[],success:"",student_id:this.$route.params.id,student:{name:"",email:"",tagId:"",_method:"PUT"}}},methods:{saveStudent:function(){var t=this;this.student.name?this.student.tagId?this.student.email?this.validEmail(this.student.email)?(console.log(this.student),n.a.post(this.$store.getters.getUrl+"api/students/"+this.student_id,this.student).then(function(e){alert(e.data.updated),t.getStudent(t.student_id)}).catch(function(t){})):this.errors.push("Valid email required."):this.errors.push("Email required."):this.errors.push("Tag id is required"):this.errors.push("Name is required")},getStudent:function(t){n.a.get(this.$store.getters.getUrl+"api/students/"+t+"/edit").then(function(t){this.student.name=t.data[0].name,this.student.email=t.data[0].email,this.student.tagId=t.data[0].tagId,console.log(t.data[0])}.bind(this)).catch(function(t){})},validEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}},created:function(){localStorage.getItem("token")||this.$router.push("/login"),this.getStudent(1)}},se={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Edit student: ")]),t._v(" "),s("div",{staticClass:"form-login align-center"},[s("span",{staticClass:"success"},[t._v(t._s(t.success))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.name,expression:"student.name"}],attrs:{type:"text",placeholder:"Student name and surename",id:"name"},domProps:{value:t.student.name},on:{input:function(e){e.target.composing||t.$set(t.student,"name",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.email,expression:"student.email"}],attrs:{type:"email",placeholder:"student email",id:"email"},domProps:{value:t.student.email},on:{input:function(e){e.target.composing||t.$set(t.student,"email",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.tagId,expression:"student.tagId"}],attrs:{type:"text",placeholder:"student tag id",id:"tagId"},domProps:{value:t.student.tagId},on:{input:function(e){e.target.composing||t.$set(t.student,"tagId",e.target.value)}}}),t._v(" "),t._l(t.errors,function(e){return s("span",{staticClass:"error"},[t._v(t._s(e))])}),t._v(" "),s("button",{staticClass:"u-full-width button-primary",attrs:{type:"submit"},on:{click:function(e){return t.saveStudent()}}},[t._v("Edit student")])],2)])])])},staticRenderFns:[]};var ae=s("VU/8")(ee,se,!1,function(t){s("a8e+")},"data-v-36672382",null).exports;a.a.use(m.a);var ie=new m.a({mode:"history",routes:[{path:"/",name:"home",component:l},{path:"/students/add",name:"addStudentGroup",component:Jt},{path:"/courses/add/:id",name:"addCourse",component:rt},{path:"/groups/add",name:"addGroup",component:tt},{path:"/courses/:id",name:"courses",component:l},{path:"/course/",name:"course",props:!0,component:U},{path:"/addStudentAttandance/",name:"addStudentAttandance",props:!0,component:F},{path:"/course/edit/:id",name:"editCourse",props:!0,component:G},{path:"/subjects",name:"subjects",component:L},{path:"/subject/edit/:id",name:"editSubject",props:!0,component:ht},{path:"/subjects/add",name:"addSubject",component:ct},{path:"/groups",name:"groups",component:B},{path:"/group/:id",name:"group",component:Z},{path:"/group/edit/:id",name:"editGroup",props:!0,component:at},{path:"/login",name:"login",component:f},{path:"/activities/:id",name:"activity",component:J},{path:"/activity/add",name:"addActivity",component:St},{path:"/attandancelist/add",name:"Attandancelist",component:xt},{path:"/activity/show",name:"CalendarShow",component:M},{path:"/admin",name:"adminMenu",component:Ut},{path:"/students",name:"adminStudents",component:Ft},{path:"/professors",name:"adminProfessors",component:Gt},{path:"/professor/add",name:"addProfessor",component:Lt},{path:"/professor/edit/:id",name:"editProfessor",component:te},{path:"/student/add",name:"addStudent",component:Zt},{path:"/student/edit/:id",name:"editStudent",component:ae},{path:"/attandancelist/:id",name:"totalAttandance",component:Mt}]});a.a.use(Bt.a);var ne=new Bt.a.Store({state:{token:"",name:"",serverUrl:"http://vps669485.ovh.net/",activities:[],course:"",selectedDate:""},getters:{getToken:function(t){return t.token},getName:function(t){return t.name},getUrl:function(t){return t.serverUrl},getActivities:function(t){return t.activities},getSelectedDate:function(t){return t.selectedDate}},mutations:{setToken:function(t,e){t.token=e.token},setName:function(t,e){t.name=e.name},setActivities:function(t,e){t.activities=e.activities},setSelectedDate:function(t,e){t.selectedDate=e.selectedDate}}}),re=s("e6fC"),oe=s.n(re);s("9M+g");a.a.use(oe.a),a.a.config.productionTip=!1,n.a.interceptors.request.use(function(t){return localStorage.getItem("token")&&(t.headers.Authorization="Bearer "+localStorage.getItem("token")),t}),new a.a({el:"#app",store:ne,router:ie,components:{App:p},template:"<App/>"})},PP7f:function(t,e){},QZMW:function(t,e){},SnFF:function(t,e){},T1hB:function(t,e){},Td2G:function(t,e){},XzqO:function(t,e){},YpFv:function(t,e){},"a8e+":function(t,e){},dkPV:function(t,e){},doTj:function(t,e){},fB5Z:function(t,e){},fjVS:function(t,e){},g43Z:function(t,e){},gp5D:function(t,e){},mZtx:function(t,e){},oR7K:function(t,e){},pFjU:function(t,e){},psum:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ca3609140591634ea2cb.js.map